import{a as y,S as h}from"./assets/vendor-5d6e039a.js";(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))n(t);new MutationObserver(t=>{for(const o of t)if(o.type==="childList")for(const u of o.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&n(u)}).observe(document,{childList:!0,subtree:!0});function s(t){const o={};return t.integrity&&(o.integrity=t.integrity),t.referrerPolicy&&(o.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?o.credentials="include":t.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(t){if(t.ep)return;t.ep=!0;const o=s(t);fetch(t.href,o)}})();const g="45375111-d1e8183fd09326f55157dfb1e",p="https://pixabay.com/api/";async function d(e,r=1,s=15){try{return(await y.get(p,{params:{key:g,q:e,image_type:"photo",orientation:"horizontal",safesearch:!0,page:r,per_page:s}})).data}catch(n){throw console.error("Error fetching images:",n),n}}function f(e){const r=document.querySelector(".gallery"),s=e.map(({webformatURL:n,largeImageURL:t,tags:o})=>`
        <a href="${t}" class="gallery-item">
            <img src="${n}" alt="${o}" loading="lazy" />
        </a>
    `).join("");r.insertAdjacentHTML("beforeend",s)}function b(){const e=document.querySelector(".gallery");e.innerHTML=""}function a(e){const r=document.querySelector(".load-more");r.style.display=e?"block":"none"}function L(){const e=document.createElement("p");e.textContent="We're sorry, but you've reached the end of search results.",document.body.appendChild(e)}let c=1,l="";const i=15,m=new h(".gallery a");document.querySelector(".search-form").addEventListener("submit",S);document.querySelector(".load-more").addEventListener("click",w);async function S(e){if(e.preventDefault(),l=e.target.elements.searchQuery.value.trim(),!!l){c=1,b(),a(!1);try{const r=await d(l,c,i);f(r.hits),m.refresh(),r.totalHits>i?a(!0):a(!1)}catch(r){console.error(r)}}}async function w(){c+=1;try{const e=await d(l,c,i);f(e.hits),m.refresh();const r=Math.ceil(e.totalHits/i);c>=r?(a(!1),L()):E()}catch(e){console.error(e)}}function E(){const{height:e}=document.querySelector(".gallery").firstElementChild.getBoundingClientRect();window.scrollBy({top:e*2,behavior:"smooth"})}
//# sourceMappingURL=commonHelpers.js.map
